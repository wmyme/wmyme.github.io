(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1dde7b42"],{3738:function(e,r,t){},"676a":function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",staticClass:"login-container",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"200px"}},[t("h3",{staticClass:"login_title"},[e._v("系统登录")]),t("el-form-item",{staticClass:"username",attrs:{label:"用户名","label-width":"80px",prop:"username"}},[t("el-input",{attrs:{type:"input",autocomplete:"off",placeholder:"请输入账号"},model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",r)},expression:"ruleForm.username"}})],1),t("el-form-item",{attrs:{label:"密码","label-width":"80px",prop:"password"}},[t("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),t("el-form-item",{staticClass:"longin_submit"},[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("提交")]),t("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)},o=[],n=(t("d3b7"),t("b64b"),{data:function(){return{loading:!1,ruleForm:{username:"",password:""},redirect:void 0,otherQuery:{},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,message:"用户名长度不能小于3位",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},watch:{$route:{handler:function(e){var r=e.query;r&&(this.redirect=r.redirect,this.otherQuery=this.getOtherQuery(r))},immediate:!0}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return!1;r.loading=!0,r.$store.dispatch("user/login",r.ruleForm).then((function(){r.$message({message:"恭喜你，登录成功",type:"success",duration:2e3}),setTimeout((function(){r.loading=!1,r.$router.push({path:r.redirect||"/admin",query:r.otherQuery})}),100)})).catch((function(){r.loading=!1}))}))},resetForm:function(e){this.$refs[e].resetFields()},getOtherQuery:function(e){return Object.keys(e).reduce((function(r,t){return"redirect"!==t&&(r[t]=e[t]),r}),{})}}}),i=n,u=(t("7eb8"),t("2877")),a=Object(u["a"])(i,s,o,!1,null,null,null);r["default"]=a.exports},"7eb8":function(e,r,t){"use strict";t("3738")}}]);
//# sourceMappingURL=chunk-1dde7b42.685daadf.js.map