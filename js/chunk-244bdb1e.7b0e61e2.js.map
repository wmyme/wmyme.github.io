{"version":3,"sources":["webpack:///./src/views/admin/other/Tags.vue?59b3","webpack:///src/views/admin/other/Tags.vue","webpack:///./src/views/admin/other/Tags.vue?6957","webpack:///./src/views/admin/other/Tags.vue","webpack:///./src/api/admin.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","ref","staticStyle","attrs","tableData","scopedSlots","_u","key","fn","row","_v","_s","scope","nativeOn","$event","preventDefault","deleteRow","$index","total","listQuery","page","size","on","$set","getList","staticRenderFns","components","Pagination","data","listLoading","created","methods","getAllTagsApi","setTimeout","index","rows","$confirm","confirmButtonText","cancelButtonText","type","then","deleteTagApi","console","message","component","getBillBoardListApi","params","request","url","method","addBillBoardApi","deleteBillBoardApi","id","updateBillBoardShowApi"],"mappings":"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","file":"js/chunk-244bdb1e.7b0e61e2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],ref:\"filterTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"编号\",\"sortable\":\"\",\"width\":\"100px\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"标签\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('el-tag',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"primary\",\"disable-transitions\":\"\"}},[_vm._v(\" \"+_vm._s(row.name)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"topicCount\",\"label\":\"话题数量\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.deleteRow(scope.$index, _vm.tableData,scope.row)}}})]}}])})],1),_c('pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total>0),expression:\"total>0\"}],attrs:{\"total\":_vm.total,\"page\":_vm.listQuery.page,\"limit\":_vm.listQuery.size},on:{\"update:page\":function($event){return _vm.$set(_vm.listQuery, \"page\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.listQuery, \"size\", $event)},\"pagination\":_vm.getList}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"app-container\">\r\n\r\n    <el-table\r\n        ref=\"filterTable\"\r\n        :data=\"tableData\"\r\n        v-loading=\"listLoading\"\r\n        border\r\n        style=\"width: 100%\">\r\n      <!--编号-->\r\n      <el-table-column\r\n          prop=\"id\"\r\n          label=\"编号\"\r\n          sortable\r\n          width=\"100px\"\r\n      >\r\n      </el-table-column>\r\n      <!--标签-->\r\n      <el-table-column\r\n          prop=\"name\"\r\n          label=\"标签\">\r\n        <template slot-scope=\"{row}\">\r\n\r\n            <el-tag\r\n                style=\"margin-left: 5px\"\r\n                type=\"primary\"\r\n                disable-transitions>\r\n              {{ row.name }}\r\n            </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <!--话题数量-->\r\n      <el-table-column\r\n          prop=\"topicCount\"\r\n          label=\"话题数量\">\r\n      </el-table-column>\r\n      <!--操作-->\r\n      <el-table-column\r\n          label=\"操作\"\r\n          width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"danger\" size=\"mini\" icon=\"el-icon-delete\"\r\n                     @click.native.prevent=\"deleteRow(scope.$index, tableData,scope.row)\">\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <pagination v-show=\"total>0\" :total=\"total\"\r\n                :page.sync=\"listQuery.page\"\r\n                :limit.sync=\"listQuery.size\"\r\n                @pagination=\"getList\"/>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {deleteTagApi, getAllTagsApi} from \"../../../api/admin\";\r\nimport Pagination from \"@/components/Pagination\";\r\nexport default {\r\n  name: \"Tags\",\r\n  components: {Pagination},\r\n  data() {\r\n    return {\r\n      listLoading: true,\r\n      total:0,\r\n      listQuery:{\r\n        page:1,\r\n        size:2\r\n      },\r\n      tableData: [],\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    getList() {\r\n      this.listLoading = true\r\n      getAllTagsApi(this.listQuery).then(res => {\r\n        let {data} = res\r\n        this.tableData =data.records\r\n        this.total=data.total\r\n        setTimeout(() => {\r\n          this.listLoading = false\r\n        }, 1.5 * 1000)\r\n      })\r\n    },\r\n    deleteRow(index, rows,row) {\r\n      this.$confirm('确定要删除吗?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        deleteTagApi(row.id).then(res=>{\r\n          console.log(res)\r\n          rows.splice(index, 1);\r\n          this.total--\r\n          this.$message({\r\n            type: 'success',\r\n            message: '删除成功!'\r\n          });\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tags.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tags.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tags.vue?vue&type=template&id=5918fd32&scoped=true&\"\nimport script from \"./Tags.vue?vue&type=script&lang=js&\"\nexport * from \"./Tags.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5918fd32\",\n  null\n  \n)\n\nexport default component.exports","import request from '../utils/request'\r\n\r\n/**\r\n * 获取全部公告\r\n * @param params {{size: number, page: number}}\r\n * @returns  公告分页\r\n */\r\nexport function getBillBoardListApi(params){\r\n    return request({\r\n        url:\"/billboard/getList\",\r\n        method:\"get\",\r\n        params\r\n    })\r\n}\r\n/**\r\n * 添加公告\r\n * @param data {{content : String}} 公告内容\r\n * @returns\r\n */\r\nexport function addBillBoardApi(data){\r\n    return request({\r\n        url:\"/billboard/add\",\r\n        method:\"post\",\r\n        data\r\n    })\r\n}\r\n/**\r\n * 删除公告\r\n * @param id : Number 公告id\r\n * @returns 删除的公告\r\n */\r\nexport function deleteBillBoardApi(id){\r\n    return request({\r\n        url:\"/billboard/delete\",\r\n        method:\"delete\",\r\n        params:{id}\r\n    })\r\n}\r\nexport function updateBillBoardShowApi(id){\r\n    return request({\r\n        url:\"/billboard/updateShow\",\r\n        method:\"put\",\r\n        params:{id}\r\n    })\r\n}\r\n\r\n/**\r\n * 获取全部标签\r\n * @param params {{size: number, page: number}}\r\n * @returns  标签分页\r\n */\r\nexport function getAllTagsApi(params){\r\n    return request({\r\n        url:\"/tag/getAllTags\",\r\n        method:\"get\",\r\n        params\r\n    })\r\n}\r\n\r\n/**\r\n * 删除标签\r\n * @param id 标签id\r\n * @returns 删除的标签\r\n */\r\nexport function deleteTagApi(id){\r\n    return request({\r\n        url:\"/tag/deleteTag\",\r\n        method:\"delete\",\r\n        params:{id}\r\n    })\r\n}\r\n"],"sourceRoot":""}