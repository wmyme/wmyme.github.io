(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ba599a3"],{5089:function(a,e,i){},"54bb":function(a,e,i){"use strict";i.r(e);var t=function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("el-tabs",{on:{"tab-click":a.handleClick},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"基础配置",name:"first"}},[i("el-form",{staticStyle:{width:"80%"},attrs:{"label-width":"100px"},model:{value:a.basicConfig,callback:function(e){a.basicConfig=e},expression:"basicConfig"}},[i("el-form-item",{attrs:{label:"网站名称"}},[i("el-input",{model:{value:a.basicConfig.siteName,callback:function(e){a.$set(a.basicConfig,"siteName",e)},expression:"basicConfig.siteName"}})],1),i("el-form-item",{attrs:{label:"网站描述"}},[i("el-input",{attrs:{type:"textarea"},model:{value:a.basicConfig.siteDescription,callback:function(e){a.$set(a.basicConfig,"siteDescription",e)},expression:"basicConfig.siteDescription"}}),i("p",{staticClass:"sava_p"},[a._v("支持html")])],1),i("el-form-item",{attrs:{label:"底部信息"}},[i("el-input",{attrs:{type:"textarea"},model:{value:a.basicConfig.footerInfo,callback:function(e){a.$set(a.basicConfig,"footerInfo",e)},expression:"basicConfig.footerInfo"}}),i("p",{staticClass:"sava_p"},[a._v("支持html")])],1),i("el-form-item",{attrs:{label:"显示封面图"}},[i("el-switch",{model:{value:a.basicConfig.showFeatureImage,callback:function(e){a.$set(a.basicConfig,"showFeatureImage",e)},expression:"basicConfig.showFeatureImage"}})],1),i("el-form-item",{attrs:{label:"每页文章数"}},[i("el-slider",{model:{value:a.basicConfig.postPageSize,callback:function(e){a.$set(a.basicConfig,"postPageSize",e)},expression:"basicConfig.postPageSize"}})],1),i("el-form-item",{attrs:{label:"每页规档数"}},[i("el-slider",{model:{value:a.basicConfig.archivesPageSize,callback:function(e){a.$set(a.basicConfig,"archivesPageSize",e)},expression:"basicConfig.archivesPageSize"}})],1),i("el-form-item",{attrs:{label:"日期格式"}},[i("el-input",{model:{value:a.basicConfig.dateFormat,callback:function(e){a.$set(a.basicConfig,"dateFormat",e)},expression:"basicConfig.dateFormat"}}),i("p",{staticClass:"sava_p"},[a._v("dayjs")])],1)],1)],1),i("el-tab-pane",{attrs:{label:"自定义配置",name:"second"}},[i("el-tabs",{attrs:{"tab-position":"left"}},[i("el-tab-pane",{attrs:{label:"布局"}},[a._v("布局")]),i("el-tab-pane",{attrs:{label:"颜色"}},[a._v("颜色")]),i("el-tab-pane",{attrs:{label:"鼠标"}},[i("el-radio-group",{staticStyle:{margin:"40px"},model:{value:a.topicConfig.mouse,callback:function(e){a.$set(a.topicConfig,"mouse",e)},expression:"topicConfig.mouse"}},[i("el-radio",{attrs:{label:"none"}},[a._v("无")]),i("el-radio",{attrs:{label:"peace"}},[a._v("peace")]),i("el-radio",{attrs:{label:"love"}},[a._v("love")]),i("el-radio",{attrs:{label:"fireworks"}},[a._v("fireworks")])],1)],1),i("el-tab-pane",{attrs:{label:"背景"}},[i("el-card",{staticClass:"card_div"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[a._v("网站背景图片")])]),i("el-image",{staticStyle:{width:"200px"},attrs:{src:a.topicConfig.backgroundImage}}),i("el-input",{model:{value:a.topicConfig.backgroundImage,callback:function(e){a.$set(a.topicConfig,"backgroundImage",e)},expression:"topicConfig.backgroundImage"}})],1),i("el-card",{staticClass:"card_div"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[a._v("头像背景图片")])]),i("el-image",{staticStyle:{width:"200px"},attrs:{src:a.topicConfig.avatarBackGround}}),i("el-input",{model:{value:a.topicConfig.avatarBackGround,callback:function(e){a.$set(a.topicConfig,"avatarBackGround",e)},expression:"topicConfig.avatarBackGround"}})],1)],1),i("el-tab-pane",{attrs:{label:"目录"}},[i("div",{staticClass:"magic"},[i("p",[a._v("目录")]),i("el-switch",{model:{value:a.topicConfig.menu,callback:function(e){a.$set(a.topicConfig,"menu",e)},expression:"topicConfig.menu"}})],1)]),i("el-tab-pane",{attrs:{label:"赞赏"}},[a._v("赞赏")]),i("el-tab-pane",{attrs:{label:"社交"}},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:a.socials.length<=0,expression:"socials.length<=0"}],staticStyle:{width:"100%"},on:{click:a.addSocial}},[i("i",{staticClass:"el-icon-plus"})]),a._l(a.socials,(function(e,t){return i("el-card",{key:t,staticClass:"box-card"},[i("div",[i("div",{staticClass:"social_input"},[i("span",{staticClass:"social_span"},[a._v("名称:")]),i("el-input",{model:{value:e["socialName"],callback:function(i){a.$set(e,"socialName",i)},expression:"item['socialName']"}})],1),i("div",{staticClass:"social_input"},[i("span",{staticClass:"social_span"},[a._v("图标:")]),i("el-input",{model:{value:e["socialIcon"],callback:function(i){a.$set(e,"socialIcon",i)},expression:"item['socialIcon']"}})],1),i("div",{staticClass:"social_input"},[i("span",{staticClass:"social_span"},[a._v("链接:")]),i("el-input",{model:{value:e["socialLink"],callback:function(i){a.$set(e,"socialLink",i)},expression:"item['socialLink']"}})],1)]),i("el-button",{attrs:{icon:"el-icon-plus",circle:"",size:"small"},on:{click:a.addSocial}}),i("el-button",{attrs:{icon:"el-icon-minus",circle:"",size:"small"},on:{click:function(i){return a.socials.remove(e)}}})],1)})),i("span",{staticClass:"social_intro"},[a._v(" 常用的社交图标，github：fa-github-alt，twitter：fa-twitter，微信： fa-wechat，QQ：fa-qq，图标采用的是font-awesome矢量字体图标， 自定义图标可以从http://www.fontawesome.com.cn上查找 ")])],2),i("el-tab-pane",{attrs:{label:"友链"}},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:a.friends.length<=0,expression:"friends.length<=0"}],staticStyle:{width:"100%"},on:{click:a.addFriend}},[i("i",{staticClass:"el-icon-plus"})]),a._l(a.friends,(function(e,t){return i("el-card",{key:t,staticClass:"box-card"},[i("div",[i("div",{staticClass:"social_input"},[i("span",{staticClass:"social_span"},[a._v("名称:")]),i("el-input",{model:{value:e["siteName"],callback:function(i){a.$set(e,"siteName",i)},expression:"item['siteName']"}})],1),i("div",{staticClass:"social_input"},[i("span",{staticClass:"social_span"},[a._v("头像:")]),i("el-input",{model:{value:e["siteAvatar"],callback:function(i){a.$set(e,"siteAvatar",i)},expression:"item['siteAvatar']"}})],1),i("div",{staticClass:"social_input"},[i("span",{staticClass:"social_span"},[a._v("链接:")]),i("el-input",{model:{value:e["siteLink"],callback:function(i){a.$set(e,"siteLink",i)},expression:"item['siteLink']"}})],1),i("div",{staticClass:"social_input"},[i("span",{staticClass:"social_span"},[a._v("介绍:")]),i("el-input",{model:{value:e["siteIntro"],callback:function(i){a.$set(e,"siteIntro",i)},expression:"item['siteIntro']"}})],1)]),i("el-button",{attrs:{icon:"el-icon-plus",circle:"",size:"small"},on:{click:a.addFriend}}),i("el-button",{attrs:{icon:"el-icon-minus",circle:"",size:"small"},on:{click:function(i){return a.friends.remove(e)}}})],1)}))],2),i("el-tab-pane",{attrs:{label:"魔改"}},[i("div",{staticClass:"magic"},[i("p",[a._v("粒子时钟")]),i("el-switch",{model:{value:a.topicConfig.particleClock,callback:function(e){a.$set(a.topicConfig,"particleClock",e)},expression:"topicConfig.particleClock"}})],1),i("div",{staticClass:"magic"},[i("p",[a._v("博主介绍美化")]),i("el-switch",{model:{value:a.topicConfig.blogErJsPlus,callback:function(e){a.$set(a.topicConfig,"blogErJsPlus",e)},expression:"topicConfig.blogErJsPlus"}})],1)])],1)],1),i("el-tab-pane",{attrs:{label:"网页图标",name:"third"}},[i("el-image",{attrs:{src:a.basicConfig["favicon"]}}),i("el-input",{model:{value:a.basicConfig["favicon"],callback:function(e){a.$set(a.basicConfig,"favicon",e)},expression:"basicConfig['favicon']"}})],1),i("el-tab-pane",{attrs:{label:"关于",name:"fourth"}},[i("div",{staticClass:"columns",staticStyle:{width:"100%"}},[i("div",{staticClass:"column"},[i("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[i("div",{attrs:{id:"preview"}})])],1)])]),i("el-button",{staticClass:"save_button",on:{click:a.saveConfig}},[a._v("保存")])],1)},s=[],o=(i("a434"),i("b775"));function l(){return Object(o["a"])({url:"/config/getThemeConfig",method:"get"})}function n(a){return Object(o["a"])({url:"/config/updateConfig",method:"put",data:a})}var c=i("ff41"),r=i.n(c);i("2f2f");Array.prototype.remove=function(){for(var a=0;a<arguments.length;a++){var e=arguments[a],i=this.indexOf(e);i>-1&&this.splice(i,1)}};var f={name:"Theme",data:function(){return{contentEditor:null,activeName:"second",basicConfig:{siteName:"",siteDescription:"",footerInfo:"",showFeatureImage:"",postPageSize:0,archivesPageSize:0,dateFormat:"",favicon:"",avatar:""},about:"",socials:[],friends:[],topicConfig:{mouse:"peace",socials:[],friends:[],backgroundImage:"",avatarBackGround:"",particleClock:!1,blogErJsPlus:!1}}},created:function(){this.getBasicConfig()},methods:{handleClick:function(a,e){console.log(a,e)},getBasicConfig:function(){var a=this;l().then((function(e){var i=e.data,t=i.basicConfig,s=i.topicConfig,o=i.about;a.basicConfig=t,a.about=o,a.topicConfig=s,a.socials=s.socials,a.friends=s.friends,a.renderMarkdown(o)}))},renderMarkdown:function(a){this.contentEditor=new r.a("preview",{height:500,placeholder:"此处为话题内容……",theme:"classic",value:a,counter:{enable:!0,type:"markdown"},preview:{delay:0,hljs:{style:this.topicConfig["previewHLJS"],lineNumber:!1}},tab:"\t",typewriterMode:!0,toolbarConfig:{pin:!0},cache:{enable:!1},mode:"ir",upload:{fieldName:"my-file",url:"",accept:"image/*,.mp3, .wav, .rar"}})},saveConfig:function(){var a=this;this.topicConfig.socials=this.socials,this.topicConfig.friends=this.friends;var e={basicConfig:this.basicConfig,topicConfig:this.topicConfig,about:this.contentEditor.getValue()};n(e).then((function(){a.$message({message:"保存成功",type:"success"})}))},addSocial:function(){this.socials.push({socialName:"",socialIcon:"fa-globe",socialLink:""})},addFriend:function(){this.friends.push({socialName:"",socialAvatar:"",socialLink:""})}}},u=f,p=(i("9408"),i("2877")),d=Object(p["a"])(u,t,s,!1,null,"62b2e3aa",null);e["default"]=d.exports},9408:function(a,e,i){"use strict";i("5089")}}]);
//# sourceMappingURL=chunk-3ba599a3.33fa06cc.js.map