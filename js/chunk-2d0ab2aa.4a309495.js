(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab2aa"],{"13b4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"},on:{click:function(t){e.dialogAddVisible=!0}}},[e._v("添加 ")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"filterTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"编号",sortable:"",width:"100px"}}),a("el-table-column",{attrs:{prop:"name",label:"分类"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},nativeOn:{click:function(a){return a.preventDefault(),e.updateCategory(t.row)}}}),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteRow(t.$index,e.tableData,t.row)}}})]}}])})],1),a("el-dialog",{attrs:{title:"添加分类",visible:e.dialogAddVisible},on:{"update:visible":function(t){e.dialogAddVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rule}},[a("el-form-item",{attrs:{label:"分类",prop:"name"}},[a("el-input",{ref:"name",attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogAddVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addCategory("form")}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"修改分类",visible:e.dialogUpdateVisible},on:{"update:visible":function(t){e.dialogUpdateVisible=t}}},[a("el-form",{ref:"updateForm",attrs:{model:e.updateForm,rules:e.rule}},[a("el-form-item",{attrs:{label:"分类",prop:"name"}},[a("el-input",{ref:"updateName",attrs:{autocomplete:"off"},model:{value:e.updateForm.name,callback:function(t){e.$set(e.updateForm,"name",t)},expression:"updateForm.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogUpdateVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateCategorySubmit("updateForm")}}},[e._v("确 定")])],1)],1)],1)},i=[],r=a("1da1"),o=(a("96cf"),a("b0c0"),a("a434"),a("2423")),l={name:"Category",data:function(){return{listLoading:!0,total:0,tableData:[],dialogAddVisible:!1,dialogUpdateVisible:!1,form:{name:""},updateForm:{id:void 0,name:void 0},rule:{name:[{required:!0,message:"请输入分类",trigger:"blur"},{min:1,max:10,message:"长度在 1 到 10个字符",trigger:"blur"}]},row:void 0}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(o["e"])().then((function(t){e.tableData=t.data,setTimeout((function(){e.listLoading=!1}),1500)}))},addCategory:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=8;break}return e.next=3,Object(o["a"])(t.form);case 3:n=e.sent,t.tableData.unshift(n.data),t.form.name="",e.next=10;break;case 8:return t.$refs.name.focus(),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},updateCategory:function(e){this.dialogUpdateVisible=!0,this.updateForm.id=e.id,this.updateForm.name=e.name,this.row=e},updateCategorySubmit:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}Object(o["k"])(t.updateForm).then((function(e){t.dialogUpdateVisible=!1,t.row.name=e.data.name})),e.next=6;break;case 4:return t.$refs.name.focus(),e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},deleteRow:function(e,t){var a=this;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.splice(e,1),a.$message({type:"success",message:"删除成功!"})}))}}},s=l,u=a("2877"),c=Object(u["a"])(s,n,i,!1,null,"6e1c7bae",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0ab2aa.4a309495.js.map