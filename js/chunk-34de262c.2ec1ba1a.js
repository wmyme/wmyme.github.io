(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34de262c"],{1512:function(e,t,r){"use strict";r("8270")},5326:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"columns py-6"},[r("div",{staticClass:"column is-half is-offset-one-quarter"},[r("el-card",{attrs:{shadow:"never"}},[r("div",{staticClass:"has-text-centered has-text-weight-bold",attrs:{slot:"header"},slot:"header"},[e._v(" 用户登录 ")]),r("div",[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"账号",prop:"name"}},[r("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"pass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),r("el-form-item",{attrs:{label:"记住",prop:"delivery"}},[r("el-switch",{model:{value:e.ruleForm.rememberMe,callback:function(t){e.$set(e.ruleForm,"rememberMe",t)},expression:"ruleForm.rememberMe"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),r("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1),r("div",{staticClass:"auth"},[r("a",{attrs:{href:e.url+"/gitee"}},[r("i",{staticClass:"iconfont icon-gitee"})]),r("a",{attrs:{href:e.url+"/github"}},[r("i",{staticClass:"iconfont icon-GitHub"})]),r("a",{attrs:{href:e.url+"/qq"}},[r("i",{staticClass:"iconfont icon-qq"})]),r("a",{attrs:{href:e.url+"/weixin"}},[r("i",{staticClass:"iconfont icon-weixin"})])])])],1)])},i=[],a={name:"Login",data:function(){return{redirect:void 0,loading:!1,ruleForm:{name:"",pass:"",rememberMe:!0},rules:{name:[{required:!0,message:"请输入账号",trigger:"blur"},{min:2,max:15,message:"长度在 2 到 15 个字符",trigger:"blur"}],pass:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}]},url:"http://127.0.0.1:8000/ums/user/render"}},mounted:function(){this.auth()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.loading=!0,t.$store.dispatch("user/login",t.ruleForm).then((function(){t.$message({message:"恭喜你，登录成功",type:"success",duration:2e3}),setTimeout((function(){t.loading=!1,t.$router.push({path:t.redirect||"/"})}),100)})).catch((function(){t.loading=!1}))}))},resetForm:function(e){this.$refs[e].resetFields()},auth:function(){var e=this,t=this.$route.query.token;console.log(t),void 0!==t&&(this.$store.dispatch("user/authLogin",t),this.$message({message:"恭喜你，登录成功",type:"success",duration:2e3}),setTimeout((function(){e.$router.push({path:e.redirect||"/"})}),100))}}},o=a,n=(r("1512"),r("2877")),l=Object(n["a"])(o,s,i,!1,null,"518ac7e1",null);t["default"]=l.exports},8270:function(e,t,r){}}]);
//# sourceMappingURL=chunk-34de262c.2ec1ba1a.js.map