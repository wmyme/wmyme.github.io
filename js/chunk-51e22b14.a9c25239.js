(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51e22b14"],{"190b":function(t,e,i){},"2df3":function(t,e,i){"use strict";i("190b")},"6b55":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-full"},[i("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[i("i",{staticClass:"fa fa fa-book"},[t._v(" 主题 / 更新主题")])])]),i("div",[i("el-form",{ref:"topic",staticClass:"demo-topic",attrs:{model:t.topic}},[i("el-form-item",{attrs:{prop:"title"}},[i("el-input",{attrs:{placeholder:"输入新的主题名称"},model:{value:t.topic.title,callback:function(e){t.$set(t.topic,"title",e)},expression:"topic.title"}})],1),i("div",{attrs:{id:"vditor"}}),i("b-taginput",{staticClass:"my-3",attrs:{maxlength:"15",maxtags:"3",ellipsis:"",placeholder:"请输入主题标签，限制为 15 个字符和 3 个标签"},model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}}),i("el-form-item",{staticClass:"mt-3"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleUpdate()}}},[t._v("更新 ")]),i("el-button",{on:{click:function(e){return t.resetForm("topic")}}},[t._v("重置")])],1)],1)],1)])],1)])])},n=[],o=(i("d81d"),i("b0c0"),i("caf6")),s=i("ff41"),c=i.n(s),r=(i("2f2f"),{name:"TopicEdit",components:{},data:function(){return{topic:{},tags:[]}},created:function(){this.fetchTopic()},methods:{renderMarkdown:function(t){var e=this;this.contentEditor=new c.a("vditor",{height:460,placeholder:"输入要更新的内容",preview:{hljs:{style:"monokai"}},mode:"sv",after:function(){e.contentEditor.setValue(t)}})},fetchTopic:function(){var t=this;Object(o["f"])(this.$route.params.id).then((function(e){t.topic=e.data.topic,t.tags=e.data.tags.map((function(t){return t.name})),t.renderMarkdown(t.topic.content)}))},handleUpdate:function(){var t=this;this.topic.content=this.contentEditor.getValue(),Object(o["i"])(this.topic).then((function(e){var i=e.data;console.log(i),setTimeout((function(){t.$router.push({name:"post-detail",params:{id:i.id}})}),800)}))},resetForm:function(t){this.$refs[t].resetFields(),this.contentEditor.setValue(""),this.tags=""}}}),l=r,d=(i("2df3"),i("2877")),u=Object(d["a"])(l,a,n,!1,null,null,null);e["default"]=u.exports},d81d:function(t,e,i){"use strict";var a=i("23e7"),n=i("b727").map,o=i("1dde"),s=o("map");a({target:"Array",proto:!0,forced:!s},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-51e22b14.a9c25239.js.map