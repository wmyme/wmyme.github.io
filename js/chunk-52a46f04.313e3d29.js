(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52a46f04"],{a2d5:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.hideReplyBtn,expression:"hideReplyBtn"}],staticClass:"my-reply",on:{click:e.inputFocus}},[n("el-avatar",{staticClass:"header-img",attrs:{size:40,src:e.myHeader}}),n("div",{staticClass:"reply-info"},[n("div",{staticClass:"reply-input",attrs:{tabindex:"0",contenteditable:"true",id:"replyInput",spellcheck:"false",placeholder:"输入评论..."},on:{focus:e.showReplyBtn,input:function(t){return e.onDivInput(t)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.btnShow,expression:"btnShow"}],staticClass:"reply-btn-box"},[n("el-button",{staticClass:"reply-btn",attrs:{size:"medium",type:"primary"},on:{click:e.sendComment}},[e._v("发表评论")])],1)],1),e._l(e.comments,(function(t,i){return n("div",{key:i,staticClass:"author-title reply-father"},[n("el-avatar",{staticClass:"header-img",attrs:{size:40,src:t.headImg}}),n("div",{staticClass:"author-info"},[n("span",{staticClass:"author-name"},[e._v(e._s(t.name))]),n("span",{staticClass:"author-time"},[e._v(e._s(t.time))])]),n("div",{staticClass:"icon-btn"},[n("span",{on:{click:function(n){return e.showReplyInput(i,t.name,t.id)}}},[n("i",{staticClass:"iconfont el-icon-s-comment"}),e._v(e._s(t.commentNum))]),n("i",{staticClass:"iconfont el-icon-caret-top"}),e._v(e._s(t.like)+" ")]),n("div",{staticClass:"talk-box"},[n("p",[n("span",{staticClass:"reply"},[e._v(e._s(t.comment))])])]),n("div",{staticClass:"reply-box"},e._l(t.reply,(function(t,s){return n("div",{key:s,staticClass:"author-title"},[n("el-avatar",{staticClass:"header-img",attrs:{size:40,src:t.fromHeadImg}}),n("div",{staticClass:"author-info"},[n("span",{staticClass:"author-name"},[e._v(e._s(t.from))]),n("span",{staticClass:"author-time"},[e._v(e._s(t.time))])]),n("div",{staticClass:"icon-btn"},[n("span",{on:{click:function(n){return e.showReplyInput(i,t.from,t.id)}}},[n("i",{staticClass:"iconfont el-icon-s-comment"}),e._v(e._s(t.commentNum))]),n("i",{staticClass:"iconfont el-icon-caret-top"}),e._v(e._s(t.like)+" ")]),n("div",{staticClass:"talk-box"},[n("p",[n("span",[e._v("回复 "+e._s(t.to)+":")]),n("span",{staticClass:"reply"},[e._v(e._s(t.comment))])])]),n("div",{staticClass:"reply-box"})],1)})),0),n("div",{directives:[{name:"show",rawName:"v-show",value:e._inputShow(i),expression:"_inputShow(i)"}],staticClass:"my-reply my-comment-reply"},[n("el-avatar",{staticClass:"header-img",attrs:{size:40,src:e.myHeader}}),n("div",{staticClass:"reply-info"},[n("div",{staticClass:"reply-input reply-comment-input",attrs:{tabindex:"0",contenteditable:"true",spellcheck:"false",placeholder:"输入评论..."},on:{input:function(t){return e.onDivInput(t)}}})]),n("div",{staticClass:" reply-btn-box"},[n("el-button",{staticClass:"reply-btn",attrs:{size:"medium",type:"primary"},on:{click:function(t){return e.sendCommentReply(i,e.j)}}},[e._v("发表评论")])],1)],1)],1)}))],2)},s=[],a={bind:function(e,t,n){function i(n){if(e.contains(n.target))return!1;t.expression&&t.value(n)}e.vueClickOutside=i,document.addEventListener("click",i)},update:function(){},unbind:function(e,t){document.removeEventListener("click",e.vueClickOutside),delete e.vueClickOutside}},o={name:"ArticleComment",data:function(){return{btnShow:!1,index:"0",replyComment:"",myName:"Lana Del Rey",myHeader:"https://ae01.alicdn.com/kf/Hd60a3f7c06fd47ae85624badd32ce54dv.jpg",myId:19870621,to:"",toId:-1,comments:[{name:"Lana Del Rey",id:19870621,headImg:"https://ae01.alicdn.com/kf/Hd60a3f7c06fd47ae85624badd32ce54dv.jpg",comment:"我发布一张新专辑Norman Fucking Rockwell,大家快来听啊",time:"2019年9月16日 18:43",commentNum:2,like:15,inputShow:!1,reply:[{from:"Taylor Swift",fromId:19891221,fromHeadImg:"https://ae01.alicdn.com/kf/H94c78935ffa64e7e977544d19ecebf06L.jpg",to:"Lana Del Rey",toId:19870621,comment:"我很喜欢你的新专辑！！",time:"2019年9月16日 18:43",commentNum:1,like:15,inputShow:!1},{from:"Ariana Grande",fromId:1123,fromHeadImg:"https://ae01.alicdn.com/kf/Hf6c0b4a7428b4edf866a9fbab75568e6U.jpg",to:"Lana Del Rey",toId:19870621,comment:"别忘记宣传我们的合作单曲啊",time:"2019年9月16日 18:43",commentNum:0,like:5,inputShow:!1}]},{name:"Taylor Swift",id:19891221,headImg:"https://ae01.alicdn.com/kf/H94c78935ffa64e7e977544d19ecebf06L.jpg",comment:"我发行了我的新专辑Lover",time:"2019年9月16日 18:43",commentNum:1,like:5,inputShow:!1,reply:[{from:"Lana Del Rey",fromId:19870621,fromHeadImg:"https://ae01.alicdn.com/kf/Hd60a3f7c06fd47ae85624badd32ce54dv.jpg",to:"Taylor Swift",toId:19891221,comment:"新专辑和speak now 一样棒！",time:"2019年9月16日 18:43",commentNum:25,like:5,inputShow:!1}]},{name:"Norman Fucking Rockwell",id:20190830,headImg:"https://ae01.alicdn.com/kf/Hdd856ae4c81545d2b51fa0c209f7aa28Z.jpg",comment:"Plz buy Norman Fucking Rockwell on everywhere",time:"2019年9月16日 18:43",commentNum:0,like:5,inputShow:!1,reply:[]}]}},directives:{clickoutside:a},methods:{inputFocus:function(){var e=document.getElementById("replyInput");e.style.padding="8px 8px",e.style.border="2px solid blue",e.focus()},showReplyBtn:function(){this.btnShow=!0},hideReplyBtn:function(){this.btnShow=!1,replyInput.style.padding="10px",replyInput.style.border="none"},showReplyInput:function(e,t,n){this.comments[this.index].inputShow=!1,this.index=e,this.comments[e].inputShow=!0,this.to=t,this.toId=n},_inputShow:function(e){return this.comments[e].inputShow},sendComment:function(){if(this.replyComment){var e={},t=document.getElementById("replyInput"),n=(new Date).getTime(),i=this.dateStr(n);e.name=this.myName,e.comment=this.replyComment,e.headImg=this.myHeader,e.time=i,e.commentNum=0,e.like=0,this.comments.push(e),this.replyComment="",t.innerHTML=""}else this.$message({showClose:!0,type:"warning",message:"评论不能为空"})},sendCommentReply:function(e,t){if(this.replyComment){var n={},i=(new Date).getTime(),s=this.dateStr(i);n.from=this.myName,n.to=this.to,n.fromHeadImg=this.myHeader,n.comment=this.replyComment,n.time=s,n.commentNum=0,n.like=0,this.comments[e].reply.push(n),this.replyComment="",document.getElementsByClassName("reply-comment-input")[e].innerHTML=""}else this.$message({showClose:!0,type:"warning",message:"评论不能为空"})},onDivInput:function(e){this.replyComment=e.target.innerHTML},dateStr:function(e){var t,n=(new Date).getTime();if(n=parseInt((n-e)/1e3),n<600)return"刚刚";if(n<3600&&n>=600)return t=Math.floor(n/60),t+"分钟前";if(n<86400&&n>=3600)return t=Math.floor(n/60/60),t+"小时前";if(n<2592e3&&n>=86400)return t=Math.floor(n/60/60/24),t+"天前";e=new Date(parseInt(e));return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()}}},m=o,c=(n("e3f2"),n("2877")),l=Object(c["a"])(m,i,s,!1,null,"2c255deb",null);t["default"]=l.exports},db36:function(e,t,n){},e3f2:function(e,t,n){"use strict";n("db36")}}]);
//# sourceMappingURL=chunk-52a46f04.313e3d29.js.map